
# Prayer Times - User Guide

## Quick Start

Your prayer times are now **city-specific** and automatically fetched from an online API based on your exact location!

### What You'll See

**Home Screen:**
```
üåê Online times for Aurora, IL  ¬±25m
```

This means:
- üåê = Times fetched from online API (city-specific)
- "Aurora, IL" = Your current city
- "¬±25m" = GPS accuracy (very accurate!)

## How It Works

1. **App detects your location** (Aurora, IL)
2. **Fetches prayer times** from Aladhan API for your exact coordinates
3. **Shows city-specific times** that match local mosques
4. **Updates automatically** when you travel

## Settings

### Change Prayer Time Source

**Settings ‚Üí Prayer Settings ‚Üí Prayer Time Source**

**Option 1: Online API (Recommended) üåê**
- Fetches city-specific times from online API
- Most accurate for your location
- Matches local mosque schedules
- Requires internet connection

**Option 2: Local Calculation üíª**
- Calculates times on your device
- Works offline
- Uses broad regional parameters
- Less accurate for specific cities

### Change Calculation Method

**Settings ‚Üí Prayer Settings ‚Üí Calculation Method**

For Aurora (US/Canada), we recommend:
- **ISNA (North America)** ‚úì Recommended

Other options:
- Muslim World League
- Egyptian General Authority
- University of Islamic Sciences, Karachi
- And 8 more...

### Fine-Tune Prayer Times

**Settings ‚Üí Prayer Settings ‚Üí Fine-Tune Prayer Times**

If your local mosque times differ slightly:
1. Tap + or - to adjust each prayer
2. Adjustments are in minutes (¬±)
3. Tap "Save Adjustments"

Example:
```
Fajr:    +2 min  (makes Fajr 2 minutes later)
Dhuhr:    0 min  (no change)
Asr:     -1 min  (makes Asr 1 minute earlier)
Maghrib:  0 min  (no change)
Isha:    +3 min  (makes Isha 3 minutes later)
```

## Troubleshooting

### Times Don't Match My Local Mosque?

**Solution 1: Try Different Calculation Method**
1. Go to Settings ‚Üí Prayer Settings
2. Try different calculation methods
3. See which one matches your mosque

**Solution 2: Use Fine-Tuning**
1. Go to Settings ‚Üí Prayer Settings
2. Adjust each prayer time by ¬±minutes
3. Save adjustments

**Solution 3: Check Your Location**
1. Make sure location permissions are enabled
2. Pull down on home screen to refresh
3. Check if city name is correct

### Times Are Inaccurate?

**Check Location Permissions:**
1. Go to device Settings
2. Find your app
3. Enable Location ‚Üí "While Using App"
4. Enable "Precise Location" (iOS) or "High Accuracy" (Android)

**Refresh Prayer Times:**
1. Pull down on home screen
2. Wait for times to refresh
3. Check if accuracy improved

**Try Different Source:**
1. Go to Settings ‚Üí Prayer Settings
2. Toggle between "Online API" and "Local Calculation"
3. See which one is more accurate

### Can't See My City Name?

**Enable Location Services:**
1. Go to device Settings
2. Enable Location Services
3. Grant permission to app
4. Restart app

**Move to Better GPS Signal:**
1. Go outside or near window
2. Wait for GPS to lock
3. Pull down to refresh

### Times Not Updating?

**Force Refresh:**
1. Pull down on home screen
2. Wait for refresh to complete
3. Check if times updated

**Clear Cache:**
1. Go to Settings ‚Üí Prayer Settings
2. Change calculation method (forces refresh)
3. Change back to preferred method

**Check Internet Connection:**
1. Make sure you have internet
2. Try switching between WiFi and mobile data
3. Restart app

## FAQ

### Q: Why did my prayer times change?

**A:** Your prayer times are now city-specific! Before, we used broad regional calculations (e.g., "North America"). Now we fetch times specifically for your city (e.g., "Aurora, IL"), which are more accurate.

### Q: Do I need internet for prayer times?

**A:** 
- **Online API**: Yes, needs internet to fetch times
- **Local Calculation**: No, works offline
- **Cached Times**: Available offline for 24 hours

### Q: How accurate are the times?

**A:**
- **Online API**: Very accurate (city-specific)
- **Local Calculation**: Reasonably accurate (regional)
- **GPS Accuracy**: Usually ¬±10-50 meters

### Q: Will times update when I travel?

**A:** Yes! Times automatically update when you move more than 5km (3 miles) from your last location.

### Q: Can I use this offline?

**A:** 
- Times are cached for 24 hours (works offline)
- Can switch to "Local Calculation" for offline use
- Recommended to fetch times while online

### Q: Is my location data private?

**A:** Yes! Only your GPS coordinates are sent to the API. No personal information, no tracking, no analytics.

### Q: Which calculation method should I use?

**A:** 
- **US/Canada**: ISNA (North America)
- **Middle East**: Muslim World League or Umm al-Qura
- **South Asia**: Karachi
- **Southeast Asia**: Singapore
- **Europe**: France or Turkey

### Q: Can I set different times for different days?

**A:** Not yet, but it's on our roadmap! Currently, times are calculated fresh each day based on your location.

## Tips & Tricks

### Tip 1: Check Your Mosque's Website
Compare app times with your local mosque's schedule. Use fine-tuning to match exactly.

### Tip 2: Enable High Accuracy GPS
For best results, enable "High Accuracy" or "Precise Location" in your device settings.

### Tip 3: Refresh When Traveling
When you arrive at a new city, pull down to refresh and get times for your new location.

### Tip 4: Use Notifications
Enable prayer time notifications in Settings ‚Üí Notification Settings to never miss a prayer.

### Tip 5: Save Your Preferences
Your calculation method and adjustments are saved automatically. No need to set them every day.

## Support

Need help? Here's what to do:

1. **Check this guide** for common issues
2. **Try troubleshooting steps** above
3. **Check location permissions** in device settings
4. **Refresh prayer times** by pulling down
5. **Contact support** through app feedback

## Updates

We're continuously improving prayer time accuracy. Recent updates:

- ‚úÖ Added online API for city-specific times
- ‚úÖ Improved location detection
- ‚úÖ Added source indicator (üåê or üìç)
- ‚úÖ Enhanced settings with toggle
- ‚úÖ Better error handling

Coming soon:
- üîú Offline mode with pre-downloaded times
- üîú Multiple location support
- üîú Qibla direction from API
- üîú Hijri calendar integration

---

**Last Updated**: January 2025
**Version**: 2.0.0

May Allah accept your prayers! ü§≤
